# 试卷生成器测试用例

## 测试环境
- 系统: Windows
- Python版本: 3.13
- 测试日期: 2025-01-12
- 项目路径: D:\code\试卷\试卷生成

## 测试用例列表

### 1. 题库管理功能测试

#### 1.1 添加题目测试
| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-001 | 添加单选题 | 题型:单选,题目:测试题目,选项:A/B/C/D,答案:D,解析:测试解析 | 成功添加单选题到题库 | 高 |
| TC-002 | 添加多选题 | 题型:多选,题目:测试多选,选项:A/B/C/D,答案:AB,解析:测试解析 | 成功添加多选题到题库 | 高 |
| TC-003 | 添加是非题 | 题型:是非,题目:测试是非,答案:是,解析:测试解析 | 成功添加是非题到题库 | 高 |
| TC-004 | 添加简答题 | 题型:简答,题目:测试简答,参考答案:测试答案,解析:测试解析 | 成功添加简答题到题库 | 高 |
| TC-005 | 添加计算题 | 题型:简答>计算,题目:测试计算,参考答案:100,解析:测试解析 | 成功添加计算题到题库 | 高 |
| TC-006 | 添加论述题 | 题型:简答>论述,题目:测试论述,参考答案:测试论述,解析:测试解析 | 成功添加论述题到题库 | 高 |
| TC-007 | 添加双语题目 | 题目包含中英文,答案和解析支持双语 | 成功添加双语题目 | 中 |
| TC-008 | 添加空题目 | 题目内容为空 | 提示错误，不允许添加 | 高 |
| TC-009 | 添加无效题型 | 题型不在预设列表中 | 提示错误或允许自定义题型 | 中 |

#### 1.2 编辑题目测试
| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-010 | 编辑题目内容 | 修改题目文本、选项、答案等 | 题目更新成功 | 高 |
| TC-011 | 编辑为空内容 | 将题目内容清空 | 提示错误，不允许保存 | 高 |
| TC-012 | 编辑题型 | 修改题目题型 | 题型更新成功 | 中 |

#### 1.3 删除题目测试
| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-013 | 删除单个题目 | 选择一道题删除 | 题目从题库中移除 | 高 |
| TC-014 | 批量删除题目 | 选择多道题删除 | 所有选中题目被移除 | 中 |
| TC-015 | 删除已采用题目 | 删除已被试卷采用的题目 | 允许删除或提示警告 | 中 |

#### 1.4 导入题目测试
| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-016 | 导入标准Word文档 | 使用提供的模板格式 | 所有题目成功导入 | 高 |
| TC-017 | 导入非Word文件 | 上传.txt/.pdf等文件 | 提示文件格式错误 | 高 |
| TC-018 | 导入格式错误的Word | Word格式不符合模板 | 提示格式错误，部分导入或拒绝 | 高 |
| TC-019 | 导入重复题目 | 导入与题库重复的题目 | 提示重复，允许选择是否导入 | 中 |
| TC-020 | 导入空文档 | 空的Word文档 | 提示文档无内容 | 中 |

#### 1.5 导出题库测试
| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-021 | 导出为JSON | 选择JSON格式 | 生成JSON文件，包含所有题目 | 高 |
| TC-022 | 导出为CSV | 选择CSV格式 | 生成CSV文件，包含所有题目 | 高 |
| TC-023 | 导出筛选后的题目 | 先筛选再导出 | 只导出筛选结果 | 中 |
| TC-024 | 导出空题库 | 题库为空时导出 | 提示题库为空或生成空文件 | 低 |

#### 1.6 搜索题目测试
| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-025 | 按关键词搜索 | 搜索"武汉" | 显示所有包含"武汉"的题目 | 高 |
| TC-026 | 按题型搜索 | 筛选"单选题" | 只显示单选题 | 高 |
| TC-027 | 按采用状态搜索 | 筛选"未采用" | 只显示未被采用的题目 | 中 |
| TC-028 | 组合搜索 | 关键词+题型+状态 | 显示符合所有条件的题目 | 中 |
| TC-029 | 搜索无结果 | 搜索不存在的关键词 | 提示未找到相关题目 | 低 |

### 2. 试卷生成功能测试

#### 2.1 题型配置测试
| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-030 | 使用默认配置 | 不修改默认配置 | 单选5题10分、是非10题10分等 | 高 |
| TC-031 | 修改题型数量 | 修改各题型题目数量 | 配置更新成功 | 高 |
| TC-032 | 修改题型分值 | 修改各题型分值 | 配置更新成功，总分重新计算 | 高 |
| TC-033 | 添加自定义题型 | 添加新题型配置 | 新题型添加成功 | 中 |
| TC-034 | 删除题型 | 删除某题型配置 | 题型从配置中移除 | 中 |
| TC-035 | 配置总分验证 | 配置总分不为100 | 提示总分应为100或允许自定义 | 高 |

#### 2.2 手动选题测试
| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-036 | 手动选择题目 | 从题库中选择题目 | 题目添加到试卷 | 高 |
| TC-037 | 选择已采用题目 | 选择已被采用的题目 | 允许选择或提示警告 | 中 |
| TC-038 | 移除已选题目 | 从试卷中移除题目 | 题目从试卷中移除 | 高 |
| TC-039 | 超出数量限制 | 选择超过配置数量的题目 | 提示超出限制或自动截断 | 中 |

#### 2.3 自动组卷测试
| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-040 | 一键自动组卷 | 题库充足时点击自动组卷 | 按配置自动生成试卷 | 高 |
| TC-041 | 题库不足时组卷 | 某题型题库数量不足 | 提示题库不足，无法完成组卷 | 高 |
| TC-042 | 避免重复题目 | 自动组卷时 | 不选择已采用的题目 | 高 |
| TC-043 | 随机组卷 | 多次自动组卷 | 每次生成的试卷题目不同 | 中 |

#### 2.4 试卷预览测试
| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-044 | 全中文预览 | 选择"全中文"模式 | 只显示中文内容 | 高 |
| TC-045 | 全英文预览 | 选择"全英文"模式 | 只显示英文内容 | 高 |
| TC-046 | 中英对照预览 | 选择"中英对照"模式 | 同时显示中英文 | 高 |
| TC-047 | 带答案预览 | 勾选"显示答案" | 显示答案和解析 | 高 |
| TC-048 | 不带答案预览 | 不勾选"显示答案" | 不显示答案和解析 | 高 |
| TC-049 | 预览总分 | 查看预览页面 | 正确显示试卷总分 | 高 |

#### 2.5 试卷导出测试
| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-050 | 导出为Word | 点击导出按钮 | 生成.docx文件 | 高 |
| TC-051 | 导出带答案试卷 | 勾选答案后导出 | Word文件包含答案 | 高 |
| TC-052 | 导出不带答案试卷 | 不勾选答案后导出 | Word文件不包含答案 | 高 |
| TC-053 | 导出样式验证 | 检查Word文件格式 | 格式正确，排版美观 | 中 |

### 3. 模板下载功能测试

| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-054 | 下载Word模板 | 点击下载模板按钮 | 下载标准格式Word模板 | 高 |
| TC-055 | 模板格式验证 | 检查下载的模板 | 模板格式符合导入要求 | 高 |
| TC-056 | 模板使用说明 | 查看模板说明 | 包含详细的使用说明 | 中 |

### 4. 一键自动组卷功能测试

| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-057 | 一键组卷 | 点击一键组卷按钮 | 自动生成试卷并显示预览 | 高 |
| TC-058 | 组卷后题目展示 | 查看组卷结果 | 题目按类型分组展示 | 高 |
| TC-059 | 组卷后总分 | 查看总分显示 | 总分计算正确 | 高 |
| TC-060 | 题库不足提示 | 题库不足时组卷 | 提示哪些题型题库不足 | 高 |

### 5. 题目替换功能测试

| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-061 | 点击替换按钮 | 点击某题的替换按钮 | 显示可替换的题目列表 | 高 |
| TC-062 | 搜索替换题目 | 在替换界面搜索 | 显示符合条件的题目 | 高 |
| TC-063 | 选择替换题目 | 选择一道题替换 | 原题目被新题目替换 | 高 |
| TC-064 | 替换后总分更新 | 替换题目后查看总分 | 总分保持不变 | 高 |
| TC-065 | 替换为已采用题目 | 选择已采用的题目替换 | 允许替换或提示警告 | 中 |

### 6. 试卷最终决定功能测试

| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-066 | 点击最终决定 | 点击最终决定按钮 | 所有题目标记为已采用 | 高 |
| TC-067 | 记录采用时间 | 最终决定后查看 | 记录当前时间作为采用时间 | 高 |
| TC-068 | 撤销最终决定 | 点击撤销按钮 | 取消题目的采用标记 | 高 |
| TC-069 | 防重复验证 | 已采用题目不再被选 | 自动组卷时不选择已采用题目 | 高 |
| TC-070 | 重复提示 | 手动选择已采用题目 | 提示该题目已被采用 | 中 |

### 7. Word导出功能测试

| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-071 | 导出Word文件 | 点击导出Word按钮 | 生成.docx文件 | 高 |
| TC-072 | Word文件内容 | 打开导出的Word文件 | 内容完整，格式正确 | 高 |
| TC-073 | Word样式设置 | 设置字体、字号等 | 样式应用正确 | 中 |
| TC-074 | Word预览功能 | 使用预览功能 | 预览效果与实际导出一致 | 中 |

### 8. 题型管理功能测试

| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-086 | 获取内置题型列表 | GET /api/question-types | 返回7个内置题型 | 高 |
| TC-087 | 创建自定义题型 | name:"简答>案例", label:"案例分析题" | 成功创建，is_builtin=false | 高 |
| TC-088 | 创建重复名称题型 | name:"单选" | 返回400错误 | 高 |
| TC-089 | 创建空名称题型 | name:"" | 返回400错误 | 高 |
| TC-090 | 更新题型标签 | 修改label | 更新成功 | 中 |
| TC-091 | 更新为重复名称 | 修改name为已存在名称 | 返回400错误 | 中 |
| TC-092 | 删除自定义题型 | 删除无引用的自定义题型 | 删除成功 | 高 |
| TC-093 | 删除内置题型 | 删除is_builtin=true的题型 | 返回400错误 | 高 |
| TC-094 | 删除有引用的题型 | 删除有题目使用的题型 | 返回400错误 | 高 |
| TC-095 | 删除不存在的题型 | 删除id=99999 | 返回404错误 | 中 |

### 9. 批量删除功能测试

| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-096 | 批量删除多题 | question_ids:["q1","q2"] | deleted_count=2 | 高 |
| TC-097 | 空列表批量删除 | question_ids:[] | 返回400错误 | 高 |
| TC-098 | 删除后清理试卷关联 | 删除已关联试卷的题目 | 试卷仍存在但无该题目 | 高 |
| TC-099 | 部分存在的ID | 含存在和不存在的ID | 只删存在的，返回实际删除数 | 中 |
| TC-100 | 全部不存在的ID | 全部为无效ID | deleted_count=0 | 中 |

### 10. 边界条件和异常测试

| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-075 | 题库为空 | 所有功能在空题库下 | 提示题库为空，引导导入 | 高 |
| TC-076 | 大量题目 | 题库包含1000+题目 | 系统运行流畅，无卡顿 | 中 |
| TC-077 | 特殊字符 | 题目包含特殊字符 | 正确处理和显示 | 中 |
| TC-078 | 超长题目 | 题目内容超长 | 正确处理和显示 | 中 |
| TC-079 | 并发操作 | 同时进行多个操作 | 系统稳定，数据一致 | 低 |
| TC-080 | 网络断开 | 操作时网络断开 | 提示错误，数据不丢失 | 低 |

### 11. 用户界面测试

| 用例ID | 测试项 | 输入数据 | 预期结果 | 优先级 |
|--------|--------|----------|----------|--------|
| TC-081 | 标签页切换 | 切换不同功能标签 | 切换流畅，内容正确 | 高 |
| TC-082 | 响应式布局 | 调整浏览器窗口大小 | 界面自适应，布局合理 | 中 |
| TC-083 | 操作反馈 | 进行各种操作 | 有明确的成功/失败提示 | 高 |
| TC-084 | 表单验证 | 输入非法数据 | 实时验证并提示错误 | 高 |
| TC-085 | 错误处理 | 触发各种错误 | 错误提示清晰友好 | 高 |

## 测试执行记录

### 测试执行统计
- 总用例数: 100
- 已执行: 0
- 通过: 0
- 失败: 0
- 阻塞: 0
- 通过率: 0%

### 缺陷统计
- 致命: 0
- 严重: 0
- 一般: 0
- 轻微: 0
- 总计: 0

### 测试结果
（测试执行后填写）

## 测试结论
（测试完成后填写）
